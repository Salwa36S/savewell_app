{"ast":null,"code":"// src/Components/Login.js\nimport React,{useEffect,useState}from\"react\";import{Container,Form,FormGroup,Label,Input,Button,Row,Col,Spinner}from\"reactstrap\";import{useDispatch,useSelector}from\"react-redux\";import{login,resetState}from\"../Features/UserSlice\";import{useNavigate,Link}from\"react-router-dom\";import logoSaveWell from\"../Images/logoSaveWell.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);// üëÅÔ∏è Toggle Password\nconst dispatch=useDispatch();const navigate=useNavigate();const{user,isSuccess,isError,isLoading}=useSelector(state=>state.users);const handleLogin=e=>{e.preventDefault();// üõ°Ô∏è Trim and validate email before sending\nconst cleanEmail=email.trim().toLowerCase();if(!isValidEmail(cleanEmail)){alert(\"Please enter a valid email address.\");return;}const userData={email:cleanEmail,password};dispatch(login(userData));};// üìß Simple Email Validator\nconst isValidEmail=email=>{return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);};useEffect(()=>{if(isSuccess||user!==null&&user!==void 0&&user.email){navigate(\"/home\");}},[isSuccess,user,navigate]);useEffect(()=>{return()=>{dispatch(resetState());};},[dispatch]);return/*#__PURE__*/_jsx(Container,{className:\"login-page py-5\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:logoSaveWell,alt:\"SaveWell Logo\",width:\"150\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",style:{fontFamily:\"Segoe UI\",fontWeight:\"bold\"},children:\"Login to SaveWell\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogin,autoComplete:\"off\",children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"email\",style:{color:\"#e91e63\",fontWeight:\"600\"},children:\"Email\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",type:\"email\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value),required:true,autoFocus:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"password\",style:{color:\"#e91e63\",fontWeight:\"600\"},children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(Input,{id:\"password\",type:showPassword?\"text\":\"password\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"link\",style:{position:\"absolute\",top:\"50%\",right:\"10px\",transform:\"translateY(-50%)\",fontSize:\"0.9rem\",textDecoration:\"none\"},onClick:()=>setShowPassword(!showPassword),children:showPassword?\"Hide\":\"Show\"})]})]}),isError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-center\",children:\"\\u274C Login failed. Please check your credentials.\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"success\",block:true,disabled:isLoading||!email||!password,style:{backgroundColor:\"#4CAF50\",border:\"none\"},children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}),\" Logging in...\"]}):\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3 text-center\",children:[\"No Account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{textDecoration:\"underline\",color:\"#e91e63\",fontWeight:\"600\"},children:\"Sign Up Now..\"})]})]})})});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","Container","Form","FormGroup","Label","Input","Button","Row","Col","Spinner","useDispatch","useSelector","login","resetState","useNavigate","Link","logoSaveWell","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","email","setEmail","password","setPassword","showPassword","setShowPassword","dispatch","navigate","user","isSuccess","isError","isLoading","state","users","handleLogin","e","preventDefault","cleanEmail","trim","toLowerCase","isValidEmail","alert","userData","test","className","children","md","src","alt","width","style","fontFamily","fontWeight","onSubmit","autoComplete","for","color","id","type","placeholder","value","onChange","target","required","autoFocus","position","top","right","transform","fontSize","textDecoration","onClick","block","disabled","backgroundColor","border","size","to"],"sources":["C:/Users/dell/OneDrive - University of Technology and Applied Sciences/Desktop/SaveWell_app/client/src/Components/Login.js"],"sourcesContent":["// src/Components/Login.js\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Spinner,\r\n} from \"reactstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login, resetState } from \"../Features/UserSlice\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport logoSaveWell from \"../Images/logoSaveWell.png\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false); // üëÅÔ∏è Toggle Password\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const { user, isSuccess, isError, isLoading } = useSelector((state) => state.users);\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n\r\n    // üõ°Ô∏è Trim and validate email before sending\r\n    const cleanEmail = email.trim().toLowerCase();\r\n    if (!isValidEmail(cleanEmail)) {\r\n      alert(\"Please enter a valid email address.\");\r\n      return;\r\n    }\r\n\r\n    const userData = {\r\n      email: cleanEmail,\r\n      password,\r\n    };\r\n    dispatch(login(userData));\r\n  };\r\n\r\n  // üìß Simple Email Validator\r\n  const isValidEmail = (email) => {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess || user?.email) {\r\n      navigate(\"/home\");\r\n    }\r\n  }, [isSuccess, user, navigate]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(resetState());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container className=\"login-page py-5\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col md={6}>\r\n          <div className=\"text-center mb-4\">\r\n            <img src={logoSaveWell} alt=\"SaveWell Logo\" width=\"150\" />\r\n          </div>\r\n\r\n          <h2 className=\"text-center mb-4\" style={{ fontFamily: \"Segoe UI\", fontWeight: \"bold\" }}>\r\n            Login to SaveWell\r\n          </h2>\r\n\r\n          <Form onSubmit={handleLogin} autoComplete=\"off\">\r\n            <FormGroup>\r\n              <Label for=\"email\" style={{ color: \"#e91e63\", fontWeight: \"600\" }}>\r\n                Email\r\n              </Label>\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n                autoFocus\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup>\r\n              <Label for=\"password\" style={{ color: \"#e91e63\", fontWeight: \"600\" }}>\r\n                Password\r\n              </Label>\r\n              <div style={{ position: \"relative\" }}>\r\n                <Input\r\n                  id=\"password\"\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  placeholder=\"Enter your password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  required\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"link\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: \"50%\",\r\n                    right: \"10px\",\r\n                    transform: \"translateY(-50%)\",\r\n                    fontSize: \"0.9rem\",\r\n                    textDecoration: \"none\",\r\n                  }}\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                >\r\n                  {showPassword ? \"Hide\" : \"Show\"}\r\n                </Button>\r\n              </div>\r\n            </FormGroup>\r\n\r\n            {isError && (\r\n              <p className=\"text-danger text-center\">\r\n                ‚ùå Login failed. Please check your credentials.\r\n              </p>\r\n            )}\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"success\"\r\n              block\r\n              disabled={isLoading || !email || !password}\r\n              style={{ backgroundColor: \"#4CAF50\", border: \"none\" }}\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <Spinner size=\"sm\" /> Logging in...\r\n                </>\r\n              ) : (\r\n                \"Login\"\r\n              )}\r\n            </Button>\r\n          </Form>\r\n\r\n          <p className=\"mt-3 text-center\">\r\n            No Account?{\" \"}\r\n            <Link to=\"/register\" style={{ textDecoration: \"underline\", color: \"#e91e63\", fontWeight: \"600\" }}>\r\n              Sign Up Now..\r\n            </Link>\r\n          </p>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}