{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\OneDrive - University of Technology and Applied Sciences\\\\Desktop\\\\SaveWell_app\\\\client\\\\src\\\\Components\\\\SavingsForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { Progress, Input, Button, FormGroup, Label, Form } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SavingsSummary = () => {\n  _s();\n  const [entries, setEntries] = useState([]);\n  const [goal, setGoal] = useState(1000); // Default goal\n  const [newGoal, setNewGoal] = useState(\"\");\n  const userEmail = useSelector(state => state.users.user.email);\n  useEffect(() => {\n    const fetchSavings = async () => {\n      try {\n        if (userEmail) {\n          const response = await axios.get(`http://localhost:3001/getUserSavings/${userEmail}`);\n          setEntries(response.data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching savings data:\", error);\n      }\n    };\n    fetchSavings();\n\n    // Load saved goal from localStorage\n    const savedGoal = localStorage.getItem(\"userGoal\");\n    if (savedGoal) {\n      setGoal(Number(savedGoal));\n    }\n  }, [userEmail]);\n  const totalIncome = entries.reduce((acc, curr) => acc + Number(curr.salary), 0);\n  const totalExpense = entries.reduce((acc, curr) => acc + Number(curr.totalExpenses), 0);\n  const currentSavings = totalIncome - totalExpense;\n  const progress = goal !== 0 ? (currentSavings / goal * 100).toFixed(2) : 0;\n  const handleGoalSubmit = e => {\n    e.preventDefault();\n    if (newGoal > 0) {\n      setGoal(Number(newGoal));\n      localStorage.setItem(\"userGoal\", newGoal); // ✅ Save to localStorage\n      setNewGoal(\"\");\n    } else {\n      alert(\"Please enter a valid goal greater than 0\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"30px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleGoalSubmit,\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          for: \"goal\",\n          children: \"Set Your Savings Goal (OMR):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"number\",\n          id: \"goal\",\n          value: newGoal,\n          onChange: e => setNewGoal(e.target.value),\n          placeholder: \"Enter your goal...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        type: \"submit\",\n        children: \"Set Goal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Total Income:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 10\n      }, this), \" OMR \", totalIncome.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Total Expenses:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 10\n      }, this), \" OMR \", totalExpense.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Current Savings:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }, this), \" OMR \", currentSavings.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Goal Progress:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }, this), \" \", progress, \"%\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Progress, {\n      value: progress,\n      style: {\n        height: \"25px\"\n      },\n      children: [progress, \"% to \", goal, \" OMR\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(SavingsSummary, \"JuIQBjRePQUYkl8lFMiwbSv3Sys=\", false, function () {\n  return [useSelector];\n});\n_c = SavingsSummary;\nexport default SavingsSummary;\nvar _c;\n$RefreshReg$(_c, \"SavingsSummary\");","map":{"version":3,"names":["React","useEffect","useState","axios","useSelector","Progress","Input","Button","FormGroup","Label","Form","jsxDEV","_jsxDEV","SavingsSummary","_s","entries","setEntries","goal","setGoal","newGoal","setNewGoal","userEmail","state","users","user","email","fetchSavings","response","get","data","error","console","savedGoal","localStorage","getItem","Number","totalIncome","reduce","acc","curr","salary","totalExpense","totalExpenses","currentSavings","progress","toFixed","handleGoalSubmit","e","preventDefault","setItem","alert","style","marginTop","children","onSubmit","for","fileName","_jsxFileName","lineNumber","columnNumber","type","id","value","onChange","target","placeholder","color","height","_c","$RefreshReg$"],"sources":["C:/Users/dell/OneDrive - University of Technology and Applied Sciences/Desktop/SaveWell_app/client/src/Components/SavingsForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { Progress, Input, Button, FormGroup, Label, Form } from \"reactstrap\";\n\nconst SavingsSummary = () => {\n  const [entries, setEntries] = useState([]);\n  const [goal, setGoal] = useState(1000); // Default goal\n  const [newGoal, setNewGoal] = useState(\"\");\n\n  const userEmail = useSelector((state) => state.users.user.email);\n\n  useEffect(() => {\n    const fetchSavings = async () => {\n      try {\n        if (userEmail) {\n          const response = await axios.get(`http://localhost:3001/getUserSavings/${userEmail}`);\n          setEntries(response.data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching savings data:\", error);\n      }\n    };\n\n    fetchSavings();\n\n    // Load saved goal from localStorage\n    const savedGoal = localStorage.getItem(\"userGoal\");\n    if (savedGoal) {\n      setGoal(Number(savedGoal));\n    }\n  }, [userEmail]);\n\n  const totalIncome = entries.reduce((acc, curr) => acc + Number(curr.salary), 0);\n  const totalExpense = entries.reduce((acc, curr) => acc + Number(curr.totalExpenses), 0);\n  const currentSavings = totalIncome - totalExpense;\n  const progress = goal !== 0 ? ((currentSavings / goal) * 100).toFixed(2) : 0;\n\n  const handleGoalSubmit = (e) => {\n    e.preventDefault();\n    if (newGoal > 0) {\n      setGoal(Number(newGoal));\n      localStorage.setItem(\"userGoal\", newGoal); // ✅ Save to localStorage\n      setNewGoal(\"\");\n    } else {\n      alert(\"Please enter a valid goal greater than 0\");\n    }\n  };\n\n  return (\n    <div style={{ marginTop: \"30px\" }}>\n      <Form onSubmit={handleGoalSubmit}>\n        <FormGroup>\n          <Label for=\"goal\">Set Your Savings Goal (OMR):</Label>\n          <Input\n            type=\"number\"\n            id=\"goal\"\n            value={newGoal}\n            onChange={(e) => setNewGoal(e.target.value)}\n            placeholder=\"Enter your goal...\"\n          />\n        </FormGroup>\n        <Button color=\"primary\" type=\"submit\">\n          Set Goal\n        </Button>\n      </Form>\n\n      <hr />\n\n      <p><strong>Total Income:</strong> OMR {totalIncome.toFixed(2)}</p>\n      <p><strong>Total Expenses:</strong> OMR {totalExpense.toFixed(2)}</p>\n      <p><strong>Current Savings:</strong> OMR {currentSavings.toFixed(2)}</p>\n      <p><strong>Goal Progress:</strong> {progress}%</p>\n\n      <Progress value={progress} style={{ height: \"25px\" }}>\n        {progress}% to {goal} OMR\n      </Progress>\n    </div>\n  );\n};\n\nexport default SavingsSummary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}