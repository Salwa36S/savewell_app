{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\OneDrive - University of Technology and Applied Sciences\\\\Desktop\\\\SaveWell_app\\\\client\\\\src\\\\Components\\\\SavingsForm.js\",\n  _s = $RefreshSig$();\n// src/Components/SavingsForm.js\n\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, CardText, Button, Spinner } from \"reactstrap\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SavingsForm = () => {\n  _s();\n  const [entries, setEntries] = useState([]);\n  const [likedSavings, setLikedSavings] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const userEmail = useSelector(state => state.users.user.email);\n  const location = useLocation();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        if (userEmail) {\n          const [savingsResponse, likesResponse] = await Promise.all([axios.get(`http://localhost:3001/getUserSavings/${userEmail}`), axios.get(`http://localhost:3001/getLikedSavings/${userEmail}`)]);\n          setEntries(savingsResponse.data);\n          setLikedSavings(likesResponse.data.map(like => like.savingId._id));\n        }\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [userEmail, location]);\n  const toggleLike = async savingId => {\n    try {\n      if (likedSavings.includes(savingId)) {\n        await axios.delete(\"http://localhost:3001/unlikeSaving\", {\n          data: {\n            userEmail,\n            savingId\n          }\n        });\n        setLikedSavings(likedSavings.filter(id => id !== savingId));\n      } else {\n        await axios.post(\"http://localhost:3001/likeSaving\", {\n          userEmail,\n          savingId\n        });\n        setLikedSavings([...likedSavings, savingId]);\n      }\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-4\",\n          children: \"\\uD83D\\uDC11 Your Sheep Savings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this) : entries.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: \"No savings submitted yet. Start saving now! \\uD83D\\uDC11\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this) : entries.map((entry, index) => /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(CardBody, {\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              tag: \"h5\",\n              children: [\"\\uD83D\\uDC11 Saving #\", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this), [[\"Monthly Salary\", entry.salary], [\"Electricity Bill\", entry.electricity], [\"Water Bill\", entry.water], [\"Household Expenses\", entry.household], [\"Personal Use\", entry.personal], [\"Total Expenses\", entry.totalExpenses], [\"Remaining Salary\", entry.remaining]].map(([label, value], idx) => /*#__PURE__*/_jsxDEV(CardText, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [label, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 41\n              }, this), \" OMR \", value]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(Button, {\n              color: likedSavings.includes(entry._id) ? \"danger\" : \"secondary\",\n              onClick: () => toggleLike(entry._id),\n              className: \"mt-2\",\n              children: likedSavings.includes(entry._id) ? \"❤️ Liked\" : \"🤍 Like\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, entry._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(SavingsForm, \"fEDrdy1sG/6mXCulWKlljF2WhAs=\", false, function () {\n  return [useSelector, useLocation];\n});\n_c = SavingsForm;\nexport default SavingsForm;\nvar _c;\n$RefreshReg$(_c, \"SavingsForm\");","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","Card","CardBody","CardTitle","CardText","Button","Spinner","useSelector","useLocation","axios","jsxDEV","_jsxDEV","SavingsForm","_s","entries","setEntries","likedSavings","setLikedSavings","loading","setLoading","userEmail","state","users","user","email","location","fetchData","savingsResponse","likesResponse","Promise","all","get","data","map","like","savingId","_id","error","console","toggleLike","includes","delete","filter","id","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","color","length","entry","index","tag","salary","electricity","water","household","personal","totalExpenses","remaining","label","value","idx","onClick","_c","$RefreshReg$"],"sources":["C:/Users/dell/OneDrive - University of Technology and Applied Sciences/Desktop/SaveWell_app/client/src/Components/SavingsForm.js"],"sourcesContent":["// src/Components/SavingsForm.js\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Container, Row, Col, Card, CardBody, CardTitle, CardText, Button, Spinner\n} from \"reactstrap\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst SavingsForm = () => {\n  const [entries, setEntries] = useState([]);\n  const [likedSavings, setLikedSavings] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const userEmail = useSelector((state) => state.users.user.email);\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        if (userEmail) {\n          const [savingsResponse, likesResponse] = await Promise.all([\n            axios.get(`http://localhost:3001/getUserSavings/${userEmail}`),\n            axios.get(`http://localhost:3001/getLikedSavings/${userEmail}`),\n          ]);\n          setEntries(savingsResponse.data);\n          setLikedSavings(likesResponse.data.map((like) => like.savingId._id));\n        }\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [userEmail, location]);\n\n  const toggleLike = async (savingId) => {\n    try {\n      if (likedSavings.includes(savingId)) {\n        await axios.delete(\"http://localhost:3001/unlikeSaving\", { data: { userEmail, savingId } });\n        setLikedSavings(likedSavings.filter((id) => id !== savingId));\n      } else {\n        await axios.post(\"http://localhost:3001/likeSaving\", { userEmail, savingId });\n        setLikedSavings([...likedSavings, savingId]);\n      }\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n    }\n  };\n\n  return (\n    <Container className=\"mt-5\">\n      <Row>\n        <Col>\n          <h2 className=\"mb-4\">🐑 Your Sheep Savings</h2>\n\n          {loading ? (\n            <div className=\"text-center\"><Spinner color=\"primary\" /></div>\n          ) : entries.length === 0 ? (\n            <p className=\"text-center\">No savings submitted yet. Start saving now! 🐑</p>\n          ) : (\n            entries.map((entry, index) => (\n              <Card className=\"mb-3\" key={entry._id}>\n                <CardBody>\n                  <CardTitle tag=\"h5\">🐑 Saving #{index + 1}</CardTitle>\n                  {[\n                    [\"Monthly Salary\", entry.salary],\n                    [\"Electricity Bill\", entry.electricity],\n                    [\"Water Bill\", entry.water],\n                    [\"Household Expenses\", entry.household],\n                    [\"Personal Use\", entry.personal],\n                    [\"Total Expenses\", entry.totalExpenses],\n                    [\"Remaining Salary\", entry.remaining],\n                  ].map(([label, value], idx) => (\n                    <CardText key={idx}><strong>{label}:</strong> OMR {value}</CardText>\n                  ))}\n\n                  <Button\n                    color={likedSavings.includes(entry._id) ? \"danger\" : \"secondary\"}\n                    onClick={() => toggleLike(entry._id)}\n                    className=\"mt-2\"\n                  >\n                    {likedSavings.includes(entry._id) ? \"❤️ Liked\" : \"🤍 Like\"}\n                  </Button>\n                </CardBody>\n              </Card>\n            ))\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default SavingsForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}