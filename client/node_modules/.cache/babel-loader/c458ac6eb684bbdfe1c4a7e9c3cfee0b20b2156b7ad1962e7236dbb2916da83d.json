{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n// Thunk for registering a new user\nexport const registerUser = createAsyncThunk(\"users/registerUser\", async userData => {\n  const response = await axios.post(\"http://localhost:3001/registerUser\", userData);\n  return response.data.user;\n});\n\n// Thunk for logging in an existing user\nexport const login = createAsyncThunk(\"users/login\", async userData => {\n  const response = await axios.post(\"http://localhost:3001/login\", userData);\n  return response.data.user;\n});\n\n// Thunk for logging out\nexport const logout = createAsyncThunk(\"users/logout\", async () => {\n  await axios.post(\"http://localhost:3001/logout\");\n});\nconst initialState = {\n  user: {},\n  isLoading: false,\n  isSuccess: false,\n  isError: false\n};\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    updateUser: (state, action) => {\n      state.user = {\n        ...state.user,\n        ...action.payload\n      };\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(registerUser.pending, state => {\n      state.isLoading = true;\n    }).addCase(registerUser.fulfilled, (state, action) => {\n      state.user = action.payload;\n      state.isLoading = false;\n      state.isSuccess = true;\n    }).addCase(registerUser.rejected, state => {\n      state.isLoading = false;\n      state.isError = true;\n    }).addCase(login.pending, state => {\n      state.isLoading = true;\n    }).addCase(login.fulfilled, (state, action) => {\n      state.user = action.payload;\n      state.isLoading = false;\n      state.isSuccess = true;\n    }).addCase(login.rejected, state => {\n      state.isLoading = false;\n      state.isError = true;\n    }).addCase(logout.fulfilled, state => {\n      state.user = {};\n      state.isSuccess = false;\n      state.isError = false;\n    });\n  }\n});\nexport const {\n  updateUser\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","registerUser","userData","response","post","data","user","login","logout","initialState","isLoading","isSuccess","isError","userSlice","name","reducers","updateUser","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["C:/Users/dell/OneDrive - University of Technology and Applied Sciences/Desktop/SaveWell_app/client/src/Features/UserSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n// Thunk for registering a new user\nexport const registerUser = createAsyncThunk(\"users/registerUser\", async (userData) => {\n  const response = await axios.post(\"http://localhost:3001/registerUser\", userData);\n  return response.data.user;\n});\n\n// Thunk for logging in an existing user\nexport const login = createAsyncThunk(\"users/login\", async (userData) => {\n  const response = await axios.post(\"http://localhost:3001/login\", userData);\n  return response.data.user;\n});\n\n// Thunk for logging out\nexport const logout = createAsyncThunk(\"users/logout\", async () => {\n  await axios.post(\"http://localhost:3001/logout\");\n});\n\nconst initialState = {\n  user: {},\n  isLoading: false,\n  isSuccess: false,\n  isError: false,\n};\n\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    updateUser: (state, action) => {\n      state.user = { ...state.user, ...action.payload };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(registerUser.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(registerUser.fulfilled, (state, action) => {\n        state.user = action.payload;\n        state.isLoading = false;\n        state.isSuccess = true;\n      })\n      .addCase(registerUser.rejected, (state) => {\n        state.isLoading = false;\n        state.isError = true;\n      })\n      .addCase(login.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(login.fulfilled, (state, action) => {\n        state.user = action.payload;\n        state.isLoading = false;\n        state.isSuccess = true;\n      })\n      .addCase(login.rejected, (state) => {\n        state.isLoading = false;\n        state.isError = true;\n      })\n      .addCase(logout.fulfilled, (state) => {\n        state.user = {};\n        state.isSuccess = false;\n        state.isError = false;\n      });\n  },\n});\n\nexport const { updateUser } = userSlice.actions;\nexport default userSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}