{"ast":null,"code":"// src/Components/LikedSavingsPage.js\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useSelector}from\"react-redux\";import{Container,Row,Col,Card,CardBody,CardTitle,CardText,Button,Spinner}from\"reactstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LikedSavingsPage=()=>{const[likedSavings,setLikedSavings]=useState([]);const[loading,setLoading]=useState(false);const userEmail=useSelector(state=>state.users.user.email);useEffect(()=>{fetchLikedSavings();},[userEmail]);const fetchLikedSavings=async()=>{try{setLoading(true);if(userEmail){const response=await axios.get(`http://localhost:3001/getLikedSavings/${userEmail}`);setLikedSavings(response.data);}}catch(error){console.error(\"Error fetching liked savings:\",error);}finally{setLoading(false);}};const handleRemoveLike=async savingId=>{try{await axios.delete(\"http://localhost:3001/unlikeSaving\",{data:{userEmail,savingId}});alert(\"‚ùå Like removed successfully!\");// After removing, refresh the liked savings\nfetchLikedSavings();}catch(error){console.error(\"Error removing like:\",error);alert(\"Error removing like. Try again.\");}};return/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"\\u2764\\uFE0F Your Liked Savings\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Spinner,{color:\"primary\"})}):likedSavings.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"You haven't liked any savings yet. \\uD83E\\uDD14\"}):likedSavings.map((like,index)=>{const saving=like.savingId;if(!saving)return null;return/*#__PURE__*/_jsx(Card,{className:\"mb-4 shadow-sm\",children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(CardTitle,{tag:\"h5\",className:\"mb-3 text-primary\",children:[\"\\uD83D\\uDC11 Liked Saving #\",index+1]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Saved By:\"}),\" \",saving.userName||\"Unknown User\"]}),/*#__PURE__*/_jsx(\"hr\",{}),[[\"Monthly Salary\",saving.salary],[\"Electricity Bill\",saving.electricity],[\"Water Bill\",saving.water],[\"Household Expenses\",saving.household],[\"Personal Use\",saving.personal],[\"Total Expenses\",saving.totalExpenses],[\"Remaining Salary\",saving.remaining]].map((_ref,idx)=>{let[label,value]=_ref;return/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[label,\":\"]}),\" OMR \",Number(value).toFixed(2)]},idx);}),/*#__PURE__*/_jsx(Button,{color:\"danger\",size:\"sm\",className:\"mt-3\",onClick:()=>handleRemoveLike(saving._id),children:\"\\u274C Remove Like\"})]})},like._id);})]})})});};export default LikedSavingsPage;","map":{"version":3,"names":["React","useEffect","useState","axios","useSelector","Container","Row","Col","Card","CardBody","CardTitle","CardText","Button","Spinner","jsx","_jsx","jsxs","_jsxs","LikedSavingsPage","likedSavings","setLikedSavings","loading","setLoading","userEmail","state","users","user","email","fetchLikedSavings","response","get","data","error","console","handleRemoveLike","savingId","delete","alert","className","children","color","length","map","like","index","saving","tag","userName","salary","electricity","water","household","personal","totalExpenses","remaining","_ref","idx","label","value","Number","toFixed","size","onClick","_id"],"sources":["C:/Users/dell/OneDrive - University of Technology and Applied Sciences/Desktop/SaveWell_app/client/src/Components/LikedSavingsPage.js"],"sourcesContent":["// src/Components/LikedSavingsPage.js\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardTitle,\r\n  CardText,\r\n  Button,\r\n  Spinner\r\n} from \"reactstrap\";\r\n\r\nconst LikedSavingsPage = () => {\r\n  const [likedSavings, setLikedSavings] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const userEmail = useSelector((state) => state.users.user.email);\r\n\r\n  useEffect(() => {\r\n    fetchLikedSavings();\r\n  }, [userEmail]);\r\n\r\n  const fetchLikedSavings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (userEmail) {\r\n        const response = await axios.get(`http://localhost:3001/getLikedSavings/${userEmail}`);\r\n        setLikedSavings(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching liked savings:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveLike = async (savingId) => {\r\n    try {\r\n      await axios.delete(\"http://localhost:3001/unlikeSaving\", {\r\n        data: { userEmail, savingId },\r\n      });\r\n      alert(\"‚ùå Like removed successfully!\");\r\n\r\n      // After removing, refresh the liked savings\r\n      fetchLikedSavings();\r\n    } catch (error) {\r\n      console.error(\"Error removing like:\", error);\r\n      alert(\"Error removing like. Try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <Row>\r\n        <Col>\r\n          <h2 className=\"mb-4 text-center\">‚ù§Ô∏è Your Liked Savings</h2>\r\n\r\n          {loading ? (\r\n            <div className=\"text-center\">\r\n              <Spinner color=\"primary\" />\r\n            </div>\r\n          ) : likedSavings.length === 0 ? (\r\n            <p className=\"text-center\">You haven't liked any savings yet. ü§î</p>\r\n          ) : (\r\n            likedSavings.map((like, index) => {\r\n              const saving = like.savingId;\r\n              if (!saving) return null;\r\n\r\n              return (\r\n                <Card className=\"mb-4 shadow-sm\" key={like._id}>\r\n                  <CardBody>\r\n                    <CardTitle tag=\"h5\" className=\"mb-3 text-primary\">\r\n                      üêë Liked Saving #{index + 1}\r\n                    </CardTitle>\r\n\r\n                    <CardText><strong>Saved By:</strong> {saving.userName || \"Unknown User\"}</CardText>\r\n                    <hr />\r\n\r\n                    {[\r\n                      [\"Monthly Salary\", saving.salary],\r\n                      [\"Electricity Bill\", saving.electricity],\r\n                      [\"Water Bill\", saving.water],\r\n                      [\"Household Expenses\", saving.household],\r\n                      [\"Personal Use\", saving.personal],\r\n                      [\"Total Expenses\", saving.totalExpenses],\r\n                      [\"Remaining Salary\", saving.remaining],\r\n                    ].map(([label, value], idx) => (\r\n                      <CardText key={idx}>\r\n                        <strong>{label}:</strong> OMR {Number(value).toFixed(2)}\r\n                      </CardText>\r\n                    ))}\r\n\r\n                    {/* üóë Remove Like Button */}\r\n                    <Button\r\n                      color=\"danger\"\r\n                      size=\"sm\"\r\n                      className=\"mt-3\"\r\n                      onClick={() => handleRemoveLike(saving._id)}\r\n                    >\r\n                      ‚ùå Remove Like\r\n                    </Button>\r\n                  </CardBody>\r\n                </Card>\r\n              );\r\n            })\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LikedSavingsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}